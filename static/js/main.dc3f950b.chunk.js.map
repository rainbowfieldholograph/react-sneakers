{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","Context.js","components/Card/Card.jsx","pages/Home.jsx","pages/Favorites.jsx","hooks/useCart.js","components/Info/Info.jsx","components/Drawer/Drawer.jsx","components/Header/Header.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","createContext","Card","id","title","price","img","onPlus","onAddToFavorite","favorited","loading","isItemAdded","useContext","useState","isFavorite","setIsFavorite","obj","parentId","className","styles","card","speed","width","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","onClick","src","alt","Home","items","onAddToCart","isLoading","search","setSearch","maxLength","onChange","e","target","value","placeholder","Array","filter","item","toUpperCase","includes","map","index","Favorites","favorites","useCart","cartItems","setCartItems","totalPrice","reduce","sum","Info","description","setCartOpened","delay","time","Promise","resolve","setTimeout","Drawer","onRemoveItem","onClose","opened","orderId","setOrderId","isOrderComplete","setIsOrderComplete","setIsLoading","onClickOrder","a","axios","post","data","i","length","delete","alert","overlay","overlayVisible","stopPropagation","drawer","style","backgroundImage","disabled","Header","props","to","onClickCart","Orders","orders","setOrders","useEffect","get","prev","q","App","setItems","setFavorites","cartOpened","all","cartResponse","favoritesResponse","itemsResponse","console","log","fetchData","findItem","find","Number","favObj","Provider","some","path","exact","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dc3f950b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__16d8d\",\"overlayVisible\":\"Drawer_overlayVisible__1ChhS\",\"drawer\":\"Drawer_drawer__3A8o1\",\"items\":\"Drawer_items__31hCq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__T5owC\",\"favorite\":\"Card_favorite__2UAEw\"};","import { createContext } from 'react'\r\n\r\nconst AppContext = createContext({})\r\n\r\nexport default AppContext\r\n","import React, { useContext, useState } from 'react'\r\nimport styles from './Card.module.scss'\r\nimport ContentLoader from 'react-content-loader'\r\nimport AppContext from '../../Context'\r\n\r\nconst Card = ({\r\n  id,\r\n  title,\r\n  price,\r\n  img,\r\n  onPlus,\r\n  onAddToFavorite,\r\n  favorited = false,\r\n  loading = false,\r\n}) => {\r\n  const { isItemAdded } = useContext(AppContext)\r\n  const [isFavorite, setIsFavorite] = useState(favorited)\r\n  const obj = { id, parentId: id, title, img, price }\r\n\r\n  const onClickFavorite = () => {\r\n    onAddToFavorite(obj)\r\n    setIsFavorite(!isFavorite)\r\n  }\r\n\r\n  const onClickPlus = () => {\r\n    onPlus(obj)\r\n  }\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      {loading ? (\r\n        <ContentLoader\r\n          speed={2}\r\n          width={180}\r\n          height={220}\r\n          viewBox=\"0 0 160 270\"\r\n          backgroundColor=\"#f3f3f3\"\r\n          foregroundColor=\"#ecebeb\"\r\n        >\r\n          <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"160\" height=\"155\" />\r\n          <rect x=\"0\" y=\"167\" rx=\"5\" ry=\"5\" width=\"160\" height=\"15\" />\r\n          <rect x=\"0\" y=\"187\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" />\r\n          <rect x=\"0\" y=\"234\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" />\r\n          <rect x=\"124\" y=\"230\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n        </ContentLoader>\r\n      ) : (\r\n        <>\r\n          {onAddToFavorite && (\r\n            <div className={styles.favorite} onClick={onClickFavorite}>\r\n              <img\r\n                src={isFavorite ? 'img/heart-liked.svg' : 'img/heart-unliked.svg'}\r\n                alt=\"Unlinked\"\r\n              />\r\n            </div>\r\n          )}\r\n          <img width={'100%'} height={135} src={img} alt=\"Sneaker\"></img>\r\n          <h5>{title}</h5>\r\n          <div className=\"d-flex justify-between align-center mt-5\">\r\n            <div className=\"d-flex flex-column\">\r\n              <span>Цена:</span>\r\n              <b>{price}</b>\r\n            </div>\r\n            {onPlus && (\r\n              <button className=\"button\" onClick={onClickPlus}>\r\n                <img\r\n                  src={isItemAdded(id) ? 'img/btn-checked.svg' : 'img/btn-plus.svg'}\r\n                  alt=\"Plus\"\r\n                />\r\n              </button>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card\r\n","import React, { useState } from 'react'\r\nimport Card from '../components/Card/Card'\r\n\r\nconst Home = ({ items, onAddToCart, onAddToFavorite, isLoading }) => {\r\n  const [search, setSearch] = useState('')\r\n\r\n  const onChangeInput = (e) => {\r\n    setSearch(e.target.value)\r\n  }\r\n\r\n  const onClickRemove = () => {\r\n    setSearch('')\r\n  }\r\n\r\n  const renderItems = () => {\r\n    return (\r\n      isLoading\r\n        ? [...Array(8)]\r\n        : items.filter((item) => item.title.toUpperCase().includes(search.toUpperCase()))\r\n    ).map((item, index) => (\r\n      <Card\r\n        key={index}\r\n        onPlus={(obj) => onAddToCart(obj)}\r\n        onAddToFavorite={onAddToFavorite}\r\n        loading={isLoading}\r\n        {...item}\r\n      />\r\n    ))\r\n  }\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center mb-40 justify-between\">\r\n        <h1>{search ? `Поиск по запросу: ${search}` : 'Все кроссовки'}</h1>\r\n        <div className=\"search-block d-flex\">\r\n          <img src=\"img/search.svg\" alt=\"Search\"></img>\r\n          <input maxLength={30} onChange={onChangeInput} value={search} placeholder=\"Поиск...\" />\r\n          {search && (\r\n            <img\r\n              onClick={onClickRemove}\r\n              className=\"removeBtn cu-p\"\r\n              src=\"img/btn-remove.svg\"\r\n              alt=\"Remove\"\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"d-flex flex-wrap\">{renderItems()}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React, { useContext } from 'react'\r\nimport Card from '../components/Card/Card'\r\nimport AppContext from '../Context'\r\n\r\nconst Favorites = () => {\r\n  const { favorites, onAddToFavorite } = useContext(AppContext)\r\n  return (\r\n    <div className=\"p-40\">\r\n      <h1>Мои закладки</h1>\r\n      <div className=\"d-flex flex-wrap mt-40\">\r\n        {favorites.map((item, index) => {\r\n          return <Card key={index} favorited={true} onAddToFavorite={onAddToFavorite} {...item} />\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Favorites\r\n","import { useContext } from 'react'\r\nimport AppContext from '../Context'\r\n\r\nexport const useCart = () => {\r\n  const { cartItems, setCartItems } = useContext(AppContext)\r\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0)\r\n\r\n  return { cartItems, setCartItems, totalPrice }\r\n}\r\n","import React, { useContext } from 'react'\r\nimport AppContext from '../../Context'\r\n\r\nconst Info = ({ img, title, description }) => {\r\n  const { setCartOpened } = useContext(AppContext)\r\n\r\n  return (\r\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img className=\"mb-20\" width=\"120px\" src={img} alt=\"Empty cart\" />\r\n      <h2>{title}</h2>\r\n      <p className=\"opacity-6\">{description}</p>\r\n      <button\r\n        onClick={() => {\r\n          setCartOpened(false)\r\n        }}\r\n        className=\"greenButton\"\r\n      >\r\n        <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Info\r\n","import axios from 'axios'\r\nimport React, { useState } from 'react'\r\nimport { useCart } from '../../hooks/useCart'\r\nimport Info from '../Info/Info'\r\nimport styles from './Drawer.module.scss'\r\n\r\nconst delay = (time) => new Promise((resolve) => setTimeout(resolve, time))\r\n\r\nconst Drawer = ({ onRemoveItem, onClose, items = [], opened }) => {\r\n  const { cartItems, setCartItems, totalPrice } = useCart()\r\n  const [orderId, setOrderId] = useState(null)\r\n  const [isOrderComplete, setIsOrderComplete] = useState(false)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      const { data } = await axios.post('https://611bc63922020a00175a4708.mockapi.io/orders', {\r\n        items: cartItems,\r\n      })\r\n      setOrderId(data.id)\r\n      setIsOrderComplete(true)\r\n      setCartItems([])\r\n\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i]\r\n        await axios.delete('https://611bc63922020a00175a4708.mockapi.io/cart/' + item.id)\r\n        await delay(1000)\r\n      }\r\n    } catch (error) {\r\n      alert('Ошибка при создании заказа :(')\r\n    }\r\n    setIsLoading(false)\r\n  }\r\n\r\n  return (\r\n    <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`} onClick={onClose}>\r\n      <div\r\n        onClick={(e) => {\r\n          e.stopPropagation()\r\n        }}\r\n        className={styles.drawer}\r\n      >\r\n        <h2 className=\"d-flex justify-between mb-30\">\r\n          Корзина\r\n          <img\r\n            onClick={onClose}\r\n            className=\"removeBtn cu-p\"\r\n            src=\"/img/btn-remove.svg\"\r\n            alt=\"Remove\"\r\n          />\r\n        </h2>\r\n        {items.length > 0 ? (\r\n          <>\r\n            <div className={styles.items}>\r\n              {items.map((obj) => {\r\n                return (\r\n                  <div key={obj.id} className=\"cartItem d-flex align-center mb-20\">\r\n                    <div\r\n                      style={{ backgroundImage: `url(${obj.img})` }}\r\n                      className=\"cartItemImg\"\r\n                    ></div>\r\n                    <div className=\"mr-20 flex\">\r\n                      <p className=\"mb-5\">{obj.title}</p>\r\n                      <b>{obj.price}</b>\r\n                    </div>\r\n                    <img\r\n                      onClick={() => {\r\n                        onRemoveItem(obj.id)\r\n                      }}\r\n                      className=\"removeBtn\"\r\n                      src=\"img/btn-remove.svg\"\r\n                      alt=\"Remove\"\r\n                    />\r\n                  </div>\r\n                )\r\n              })}\r\n            </div>\r\n            <div className=\"cartTotalBlock\">\r\n              <ul>\r\n                <li>\r\n                  <span>Итого:</span>\r\n                  <div></div>\r\n                  <b>{totalPrice} руб.</b>\r\n                </li>\r\n                <li>\r\n                  <span>Налог 5%:</span>\r\n                  <div></div>\r\n                  <b>{totalPrice * 0.05} руб.</b>\r\n                </li>\r\n              </ul>\r\n              <button disabled={isLoading} className=\"greenButton\" onClick={onClickOrder}>\r\n                Оформить заказ <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n              </button>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <Info\r\n            title={isOrderComplete ? 'Заказ оформлен!' : 'Корзина пустая'}\r\n            description={\r\n              isOrderComplete\r\n                ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке`\r\n                : 'Добавьте хотя бы одну пару кроссовок, чтобы сделать заказ'\r\n            }\r\n            img={isOrderComplete ? 'img/complete-order.jpg' : 'img/empty-cart.jpg'}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Drawer\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useCart } from '../../hooks/useCart'\r\n\r\nconst Header = (props) => {\r\n  const { totalPrice } = useCart()\r\n\r\n  return (\r\n    <header className=\"d-flex justify-between align-center p-40\">\r\n      <Link to=\"/\">\r\n        <div className=\"d-flex align-center cu-p\">\r\n          <img width={40} height={40} src=\"img/logo.png\" alt=\"Logo\" />\r\n          <div>\r\n            <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n            <p className=\"opacity-5\">Магазин лучших кроссовок</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <ul className=\"d-flex\">\r\n        <li className=\"mr-30 cu-p\" onClick={props.onClickCart}>\r\n          <img width={18} height={18} src=\"img/cart.svg\" alt=\"Cart\" />\r\n          <span>{totalPrice} руб.</span>\r\n        </li>\r\n        <Link to=\"/favorites\">\r\n          <li className=\"mr-10\">\r\n            <img width={20} height={20} src=\"img/heart.svg\" alt=\"Favorites\" />\r\n          </li>\r\n        </Link>\r\n        <Link to=\"/orders\">\r\n          <li>\r\n            <img width={18} height={18} src=\"img/user.svg\" alt=\"User\" />\r\n          </li>\r\n        </Link>\r\n      </ul>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport Card from '../components/Card/Card'\r\n\r\nconst Orders = () => {\r\n  const [orders, setOrders] = useState([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    async function q() {\r\n      try {\r\n        setIsLoading(true)\r\n        const { data } = await axios.get('https://611bc63922020a00175a4708.mockapi.io/orders')\r\n        setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []))\r\n        setIsLoading(false)\r\n      } catch (error) {\r\n        alert(error)\r\n      }\r\n    }\r\n    q()\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"p-40\">\r\n      <h1>Мои заказы</h1>\r\n      <div className=\"d-flex flex-wrap mt-40\">\r\n        {(isLoading ? [...Array(8)] : orders).map((item, index) => {\r\n          return <Card key={index} loading={isLoading} {...item} />\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Orders\r\n","import './App.scss'\nimport 'macro-css'\nimport { BrowserRouter, Redirect, Route } from 'react-router-dom'\nimport Home from './pages/Home'\nimport Favorites from './pages/Favorites'\nimport { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport Drawer from './components/Drawer/Drawer'\nimport Header from './components/Header/Header'\nimport AppContext from './Context'\nimport Orders from './pages/Orders'\n\nconst App = () => {\n  const [items, setItems] = useState([])\n  const [cartItems, setCartItems] = useState([])\n  const [favorites, setFavorites] = useState([])\n  const [cartOpened, setCartOpened] = useState(false)\n  const [isLoading, setIsLoading] = useState(true)\n\n  const onRemoveItem = (id) => {\n    try {\n      axios.delete(`https://611bc63922020a00175a4708.mockapi.io/cart/${id}`)\n      setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(id)))\n    } catch (error) {\n      alert('Ошибка при удалении из корзины')\n      console.log(error)\n    }\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setIsLoading(true)\n        const [cartResponse, favoritesResponse, itemsResponse] = await Promise.all([\n          axios.get('https://611bc63922020a00175a4708.mockapi.io/cart'),\n          axios.get('https://611bc63922020a00175a4708.mockapi.io/favorites'),\n          axios.get('https://611bc63922020a00175a4708.mockapi.io/items'),\n        ])\n        // const cartResponse = await axios.get('https://611bc63922020a00175a4708.mockapi.io/cart')\n        // const favoritesResponse = await axios.get(\n        //   'https://611bc63922020a00175a4708.mockapi.io/favorites'\n        // )\n        // const itemsResponse = await axios.get('https://611bc63922020a00175a4708.mockapi.io/items')\n        setIsLoading(false)\n\n        setCartItems(cartResponse.data)\n        setFavorites(favoritesResponse.data)\n        setItems(itemsResponse.data)\n      } catch (error) {\n        alert('Ошибка при запросе')\n        console.log(error)\n      }\n    }\n\n    fetchData()\n  }, [])\n\n  const onAddToCart = async (obj) => {\n    try {\n      const findItem = cartItems.find((item) => Number(item.parentId) === Number(obj.id))\n      if (findItem) {\n        setCartItems((prev) => prev.filter((item) => Number(item.parentId) !== Number(obj.id)))\n        await axios.delete(`https://611bc63922020a00175a4708.mockapi.io/cart/${findItem.id}`)\n      } else {\n        setCartItems((prev) => [...prev, obj])\n        const { data } = await axios.post('https://611bc63922020a00175a4708.mockapi.io/cart', obj)\n        setCartItems((prev) =>\n          prev.map((item) => {\n            if (item.parentId === data.parentId) {\n              return {\n                ...item,\n                id: data.id,\n              }\n            }\n            return item\n          })\n        )\n      }\n    } catch (error) {\n      alert('Ошибка при добавлении в корзину')\n      console.log(error)\n    }\n  }\n\n  const onAddToFavorite = async (obj) => {\n    try {\n      if (favorites.find((favObj) => Number(favObj.id) === Number(obj.id))) {\n        axios.delete(`https://611bc63922020a00175a4708.mockapi.io/favorites/${obj.id}`)\n        setFavorites((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)))\n      } else {\n        //деструктуризация response.data\n        const { data } = await axios.post(\n          'https://611bc63922020a00175a4708.mockapi.io/favorites',\n          obj\n        )\n        setFavorites((prev) => [...prev, data])\n      }\n    } catch (error) {\n      alert('Не удалось добавить в фавориты')\n      console.log(error)\n    }\n  }\n\n  const isItemAdded = (id) => {\n    console.log(cartItems)\n    return cartItems.some((obj) => Number(obj.parentId) === Number(id))\n  }\n\n  return (\n    <AppContext.Provider\n      value={{\n        items,\n        cartItems,\n        favorites,\n        isItemAdded,\n        onAddToFavorite,\n        onAddToCart,\n        setCartOpened,\n        setCartItems,\n      }}\n    >\n      <BrowserRouter>\n        <div className=\"wrapper\">\n          <Header onClickCart={() => setCartOpened(true)} />\n          <Route path=\"favorites\" exact={true}>\n            <Favorites />\n          </Route>\n          <Drawer\n            items={cartItems}\n            onClose={() => setCartOpened(false)}\n            onRemoveItem={onRemoveItem}\n            opened={cartOpened}\n          />\n          <Route path=\"\" exact={true}>\n            <Home\n              items={items}\n              cartItems={cartItems}\n              onAddToFavorite={onAddToFavorite}\n              onAddToCart={onAddToCart}\n              isLoading={isLoading}\n            />\n          </Route>\n          <Route path=\"orders\">\n            <Orders />\n          </Route>\n        </div>\n      </BrowserRouter>\n    </AppContext.Provider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}